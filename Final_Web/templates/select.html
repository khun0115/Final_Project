<form method="post" action="/upfile" enctype="multipart/form-data"></form>
<br>
<form class="container d-flex justify-content-center radio-select-container">
  <div>
    <span class="badge text-bg-danger"
      style="font-size: 20px; padding: 8px 12px; display: inline-flex; align-items: center; justify-content: center;">
      제조사
    </span>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1"
        onchange="updateStep2()">
      <label class="form-check-label form-check-label" for="flexRadioDefault1">
        기아
      </label>
    </div>

    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2"
        onchange="updateStep2()">
      <label class="form-check-label form-check-label" for="flexRadioDefault2">
        삼성
      </label>
    </div>

    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault3"
        onchange="updateStep2()">
      <label class="form-check-label form-check-label" for="flexRadioDefault3">
        현대
      </label>
    </div>
  </div>


  <span class="badge text-bg-danger"
    style="font-size: 20px; padding: 8px 12px; display: inline-flex; align-items: center; justify-content: center;">
    차종
  </span>
  <select id="step2" name="selectedCar" onchange="updateStep3()" disabled>
    <option value="">제조사별 차종</option>
  </select>

  <span class="badge text-bg-danger"
    style="font-size: 20px; padding: 8px 12px; display: inline-flex; align-items: center; justify-content: center;">
    연식
  </span>
  <select id="step3" name="selectedYear" onchange="updateStep4()" disabled>
    <option value="">연식</option>
  </select>

  <span class="badge text-bg-danger"
    style="font-size: 20px; padding: 8px 12px; display: inline-flex; align-items: center; justify-content: center;">
    색상
  </span>
  <select id="step4" name="selectedColor" onchange="addSelectedToUrl()">
    <option value="">선택하세요</option>
    {% for color in colors%}
    <option value="{{ color }}">{{ color }}</option>
    {% endfor %}
  </select>

  <script>
    function updateStep2() {
      var step1Value = document.querySelector('input[name="flexRadioDefault"]:checked').id;
      var step2Select = document.getElementById("step2");

      // 선택된 값에 따라 다음 셀렉트 박스의 옵션 설정
      if (step1Value === "flexRadioDefault1") {
        step2Select.innerHTML = `
            <option value="suboption1">기아의 차종</option>
            <option value="모닝">모닝</option>
            <option value="K3">K3</option>
            <option value="K5">K5</option>
            <option value="K7">K7</option>
            <option value="K9">K9</option>
            <option value="카니발">카니발</option>
            <option value="쏘렌토">쏘렌토</option>
            <option value="샐토스">샐토스</option>
            <option value="레이">레이</option>
          `;
      } else if (step1Value === "flexRadioDefault2") {
        step2Select.innerHTML = `
            <option value="suboption11">삼성의 차종</option>
            <option value="QM3">QM3</option>
          `;
      } else if (step1Value === "flexRadioDefault3") {
        step2Select.innerHTML = `
            <option value="suboption13">현대의 차종</option>
            <option value="투싼">투싼</option>
            <option value="제네시스G80">제네시스G80</option>
            <option value="제네시스GV70">제네시스GV70</option>
            <option value="제네시스GV80">제네시스GV80</option>
            <option value="그랜저">그랜저</option>
            <option value="아반떼">아반떼</option>
            <option value="소나타">소나타</option>
            <option value="코나">코나</option>
          `;
      }

      // 다음 셀렉트 박스를 활성화
      step2Select.disabled = false;

      var radios = document.getElementsByName('flexRadioDefault');
      var selectedManufacturer;

      for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
          selectedManufacturer = radios[i].nextElementSibling.textContent.trim();
          break;
        }
      }
      updateStep3(); // 뒷 단계도 함께 업데이트
      
    }

    function updateStep3() {
      var step2Value = document.getElementById("step2").value;
      var step3Select = document.getElementById("step3");

      // 선택된 값에 따라 다음 셀렉트 박스의 옵션 설정
      if (step2Value === "") {
        step3Select.innerHTML = "<option value=''>차종의 연식</option>";
      } else {
        step3Select.disabled = false;

        for (var i = 8; i < 24; i++) {
          var value = i //< 10 ? `0${i}` : i;
          step3Select.innerHTML += `<option value="${i}">${value}</option>`;
        }
      }
    }

  </script>
</form>